{
  "name": "Time Flow",
  "description": "Every 30 seconds, if you break a block or deal damage within 29.5-30 seconds, gain Haste, Speed and Strength for 30 seconds.",
  "type": "origins:multiple",
  "timer": {
    "type": "origins:resource",
    "min": 0,
    "max": 600,
    "hud_render": {
      "should_render": true,
      "sprite_location": "origins:textures/gui/community/huang/resource_bar_02.png",
      "bar_index": 1
    }
  },
  "timer_increment": {
    "type": "origins:action_over_time",
    "entity_action": {
      "type": "origins:change_resource",
      "resource": "esoterica-origins:sakuya_timed",
      "change": 1
    },
    "interval": 1
  },
  "block_break": {
    "type": "origins:action_on_block_break",
    "entity_action": {
      "type": "origins:and",
      "actions": [
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:haste",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:speed",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:strength",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:set_resource",
          "resource": "esoterica-origins:sakuya_timed",
          "value": 0
        }
      ]
    },
    "condition": {
      "type": "origins:resource",
      "resource": "esoterica-origins:sakuya_timed",
      "comparison": ">=",
      "compare_to": 590
    }
  },
  "entity_hit": {
    "type": "origins:modify_damage_dealt",
    "self_action": {
      "type": "origins:and",
      "actions": [
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:haste",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:speed",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:apply_effect",
          "effect": {
            "effect": "minecraft:strength",
            "duration": 600,
            "amplifier": 0
          }
        },
        {
          "type": "origins:set_resource",
          "resource": "esoterica-origins:sakuya_timed",
          "value": 0
        }
      ]
    },
    "condition": {
      "type": "origins:resource",
      "resource": "esoterica-origins:sakuya_timed",
      "comparison": ">=",
      "compare_to": 590
    }
  }
}
