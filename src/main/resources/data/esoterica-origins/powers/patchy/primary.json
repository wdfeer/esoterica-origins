{
  "name": "Magical Catalyst",
  "description": "Activate every 30 seconds to consume the item in hand and cast a spell: Fire Charge = Fireball, Ice = Freeze Ray, Book = Absorption II.",
  "type": "origins:active_self",
  "entity_action": {
    "type": "origins:and",
    "actions": [
      {
        "type": "origins:equipped_item_action",
        "equipment_slot": "mainhand",
        "action": {
          "type": "origins:consume",
          "amount": 1
        }
      },
      {
        "type": "origins:if_else_list",
        "actions": [
          {
            "condition": {
              "type": "origins:equipped_item",
              "equipment_slot": "mainhand",
              "item_condition": {
                "type": "origins:ingredient",
                "ingredient": {
                  "item": "minecraft:fire_charge"
                }
              }
            },
            "action": {
              "type": "origins:fire_projectile",
              "entity_type": "minecraft:fireball",
              "tag": "{ExplosionPower:2b}"
            }
          },
          {
            "condition": {
              "type": "origins:equipped_item",
              "equipment_slot": "mainhand",
              "item_condition": {
                "type": "origins:ingredient",
                "ingredient": {
                  "item": "minecraft:ice"
                }
              }
            },
            "action": {
              "type": "origins:raycast",
              "distance": 64,
              "block": true,
              "entity": true,
              "shape_type": "visual",
              "fluid_handling": "any",
              "bientity_action": {
                "type": "origins:target_action",
                "action": {
                  "type": "origins:and",
                  "actions": [
                    {
                      "type": "origins:damage",
                      "amount": 16,
                      "damage_type": "minecraft:freeze"
                    },
                    {
                      "type": "origins:apply_effect",
                      "effect": {
                        "effect": "minecraft:slowness",
                        "duration": 600,
                        "amplifier": 0
                      }
                    }
                  ]
                }
              },
              "command_at_hit": "particle block blue_ice ~ ~ ~ 1 1 1 1 16 normal",
              "command_along_ray": "particle block ice ~ ~ ~ 0 0 0 1 1 normal",
              "command_step": 1,
              "command_along_ray_only_on_hit": true
            }
          },
          {
            "condition": {
              "type": "origins:equipped_item",
              "equipment_slot": "mainhand",
              "item_condition": {
                "type": "origins:ingredient",
                "ingredient": {
                  "item": "minecraft:book"
                }
              }
            },
            "action": {
              "type": "origins:apply_effect",
              "effect": {
                "effect": "minecraft:absorption",
                "duration": 600,
                "amplifier": 1
              }
            }
          }
        ]
      }
    ]
  },
  "condition": {
    "type": "origins:equipped_item",
    "equipment_slot": "mainhand",
    "item_condition": {
      "type": "origins:ingredient",
      "ingredient": [
        {
          "item": "minecraft:fire_charge"
        },
        {
          "item": "minecraft:ice"
        },
        {
          "item": "minecraft:book"
        }
      ]
    }
  },
  "cooldown": 600,
  "hud_render": {
    "should_render": true,
    "sprite_location": "origins:textures/gui/community/huang/resource_bar_02.png",
    "bar_index": 17
  }
}
